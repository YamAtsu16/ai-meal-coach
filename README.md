# AI食事コーチアプリ

健康的な食事習慣をサポートするための、AIを活用したミールトラッキングアプリケーション。

## 開発背景と課題

私は趣味でボディメイクをしており、日常的に友人から食事の相談を受けることが多くあります。その経験から、世の中の多くの人が自身の目的（減量、筋肉増強、健康維持など）に沿った正しい食事方法や必要な栄養素について知識を持っていないということに気づきました。栄養の専門家に相談するには敷居が高く、インターネット上の情報は玉石混交で信頼性に欠けることも多いのが現状です。

こうした課題を解決するために、個人の目標や体格に合わせて食事記録を管理し、AIの力を借りてパーソナライズされたアドバイスを提供するアプリケーションの開発を決意しました。具体的には、以下のような課題に対応しています：

- 栄養バランスを考慮した食事管理の難しさ
- 自分の目標や体格に合った適切な栄養摂取量の把握
- 日々の食事記録の継続の煩わしさ
- 専門家のアドバイスへのアクセス困難性

AI食事コーチは、これらの課題を解決するために開発されました。AIを活用して個人の食事データを分析し、パーソナライズされた栄養アドバイスを提供することで、ユーザーの健康的な食生活をサポートします。

## アプリケーション概要

AI食事コーチは、日々の食事記録から栄養バランスを分析し、改善のためのアドバイスを提供するWebアプリケーションです。

主な対象ユーザー：
- 健康的な食生活を目指す一般の方々
- ダイエットや筋肉増強など特定の目標を持つ方
- 忙しい中でも食生活を改善したい方
- 栄養バランスに関する知識を深めたい方

## 機能

- **食事記録管理**: 食事内容を簡単に記録・管理
- **栄養素自動計算**: カロリー、タンパク質、脂質、炭水化物などの自動計算
- **ビジュアル分析**: グラフやチャートで栄養バランスを視覚化
- **AIによる栄養アドバイス**: 食事パターンを分析し、パーソナライズされた改善提案
- **目標設定と進捗管理**: 個人の目標（減量、維持、増量）に合わせた栄養摂取目標の設定と進捗追跡
- **ユーザープロフィール管理**: 年齢、性別、身長、体重、活動レベルに基づいた推奨値の算出

## 技術選定と理由

### フロントエンド
- **Next.js**: モダンな開発体験を提供するReactフレームワークとして採用。APIルートの統合やファイルベースのルーティングにより、開発効率を向上させることができました。サーバーサイドレンダリングは使用していませんが、将来的な拡張性も考慮しています。
- **React**: コンポーネントベースのUI構築によるコードの再利用性と保守性の向上を実現。特に状態管理の容易さと仮想DOMによるパフォーマンス最適化が、複雑なUIを持つアプリケーションに適していました。
- **TypeScript**: 開発初期からの型安全性確保により、ランタイムエラーを大幅に削減。特に複数人開発を視野に入れた場合の自己文書化効果とIDEサポートの恩恵が大きいと判断しました。
- **Tailwind CSS**: ユーティリティファーストのアプローチにより、カスタムCSSの記述を最小限に抑えながら一貫したデザインシステムを構築。特にレスポンシブデザインの実装が容易になり、開発速度が向上しました。

### バックエンド
- **Next.js API Routes**: フロントエンドと同じリポジトリでAPIを管理することで、全体の一貫性を保ちながら開発できる点を重視。特にTypeScriptの型定義をフロントエンドとバックエンドで共有できる利点が大きいと判断しました。
- **MongoDB**: ドキュメント指向データベースとして、食事記録のような半構造化データを柔軟に格納できる点を評価。スキーマの進化に対応しやすく、検索やフィルタリングも容易で、プロトタイピングから本番環境まで一貫して使用できる点が決め手となりました。
- **NextAuth.js**: 認証フローを簡素化しながらも高いセキュリティを確保できるソリューションとして選択。OAuth連携や複数プロバイダーのサポートがあり、将来的な機能拡張にも対応しやすいと判断しました。

### AI機能
- **OpenAI API**: GPT-4の自然言語理解と生成能力を活用し、栄養学的知見に基づいたパーソナライズされたアドバイスを提供。特にシステムプロンプトを通じた専門知識の注入により、一般的なチャットボットを超えた専門的なガイダンスを実現できました。
- **データ分析**: 蓄積された食事記録データから傾向を抽出し、AIへの入力として活用することで、より具体的かつ実用的なアドバイスを生成。ユーザーの目標と実際の摂取状況のギャップを分析し、実行可能な改善提案を行うロジックを開発しました。

## 工夫した点

### ユーザーエクスペリエンス
- **シンプルな操作性**: 複雑な栄養計算をバックグラウンドで処理し、ユーザーは食事内容の入力に集中できる設計
- **レスポンシブデザイン**: モバイルからデスクトップまで、どのデバイスでも最適な表示
- **インタラクティブな視覚化**: 栄養データをわかりやすいグラフで表示し、直感的に理解できるUI

### AI活用
- **コンテキスト理解**: ユーザーの過去の食事履歴や目標を考慮した、より関連性の高いアドバイスの生成
- **専門知識の組み込み**: 栄養学の知識をプロンプトに組み込み、科学的根拠に基づいたアドバイスを提供
- **フィードバックループ**: ユーザーのフィードバックを基にAIレスポンスを継続的に改善

### パフォーマンスとスケーラビリティ
- **効率的なデータ取得**: 必要なデータのみを取得するAPIの最適化
- **キャッシング戦略**: 頻繁にアクセスされるデータのキャッシングによる応答速度の向上
- **段階的なローディング**: 重要なコンテンツから順に表示することでユーザー体験を向上

分析結果には、栄養バランスの評価、改善点、および具体的なアドバイスが含まれます。

## 開発者向け情報

### プロジェクト構造

```
ai-meal-coach/
├── public/                 # 静的アセット
├── src/                    # ソースコード
│   ├── app/                # Next.js アプリケーションルーター
│   ├── components/         # Reactコンポーネント
│   ├── lib/                # ユーティリティ関数とヘルパー
│   │   ├── constants/     # 定数定義
│   │   ├── types/         # 型定義
│   │   │   ├── common/    # 共通型定義
│   │   │   ├── external/  # 外部API型定義
│   │   │   └── features/  # 機能別型定義
│   │   └── utils/         # ユーティリティ関数
│   ├── middleware.ts       # Next.js ミドルウェア
│   └── providers/          # コンテキストプロバイダー
├── .env.example            # 環境変数のテンプレート
├── .env                    # 環境変数（gitignore対象）
├── package.json            # 依存関係と scripts
├── tailwind.config.ts      # Tailwind CSS設定
└── tsconfig.json           # TypeScript設定
```

### 開発環境

- Node.js 18.x以上
- npm 9.x以上